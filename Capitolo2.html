<!DOCTYPE html>
<html lang="en">
<!--[if IE]>
<html>
<header>
<p align="center">NON DISPONIBILE PER EXPLORER, PER VISUALIZZARE IL SITO UTILIZZA UN ALTRO BROWSER.<br>STIAMO LAVORANDO PER RISOLVERE IL PROBLEMA</p>
</header>
</html>
<style>
ul.lat-nav {
display:none;
}
ul.top-nav{
display:none;
}
img.pagina{
display:none;
}
div.footer{
display:none;
}
</style>
<![endif]-->

<head>
  <meta charset="utf-8">
  <link href="style.css" rel="stylesheet" type="text/css">
  <script src="script.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js">
  </script>
  <!-- per auto refresh in fase di sviluppo -->
  <!-- <meta http-equiv="refresh" content="5" > -->
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Capitolo 2</title>
</head>

<body>
  <section id="topbar">
    <nav>
      <ul class="top-nav">
        <li class="logo"><a href="#">Logo</a></li>
        <li class="non-logo"><a href="#" >1. Funzioni</a></li>
        <li class="non-logo"><a class="attivotop" href="#" >2. Continuit&agrave;</a></li>
        <li class="non-logo"><a href="#" >3. Sistemi</a></li>
        <li class="non-logo"><a href="#" >4. Integrali</a></li>
        <li class="non-logo"><a href="#" >5. Studio di funzione</a></li>
        <li class="non-logo"><a href="#" >6. Nonloso</a></li>
        <li class="non-logo"><a href="#" >7. Provaprovaprova</a></li>
      </ul>
    </nav>
  </section>

  <section id="lat-bar">
    <div id="menulaterale">
      <nav class="lateral">
        <ul class="lat-nav">
          <li class="sottocap"><a id="link1" class="nada" href="#prima" onclick="attivalat('link1') ">2.1: Significato</a></li>
          <hr>
          <li class="sottocap"><a id="link2" class="nada" href="#seconda" onclick="attivalat('link2')">2.2: Intorno</a></li>
          <li class="sottocap-s"><a id="link3" class="nada" href="#terza" onclick="attivalat('link3');corsiva('link3')">2.2.1: Definizione</a></li>
          <li class="sottocap-s"><a id="link4" class="nada" href="#" onclick="attivalat('link4');corsiva('link4')">2.2.2: Propriet&agrave;</a></li>
          <li class="sottocap-s"><a id="link5" class="nada" href="#" onclick="attivalat('link5');corsiva('link5')">2.2.3: Topologia</a></li>
          <hr>
          <li class="sottocap"><a id="link6" class="nada" href="#" onclick="attivalat('link6')">2.3: Continuit&agrave;</a></li>
          <li class="sottocap-s"><a id="link7" class="nada" href="#" onclick="attivalat('link7');corsiva('link7')">2.3.1: Definizione</a></li>
          <li class="sottocap-s"><a id="link8" class="nada" href="#" onclick="attivalat('link8');corsiva('link8')">2.3.2: Discontinuit&agrave;</a></li>
        </ul>
      </nav>
    </div>
  </section>

  <section id="main">
    <div>
      <div><img id="prima" class="pagina" src="prova_Cap2-001.jpg" alt="pagina del libro" /></div>
      <div><img id="seconda" class="pagina" src="prova_Cap2-002.jpg" alt="pagina del libro" /></div>
      <div><img id="terza" class="pagina" src="prova_Cap2-003.jpg" alt="pagina del libro" /></div>
      <div><img id="#" class="pagina" src="prova_Cap2-004.jpg" alt="pagina del libro" /></div>
      <div><img id="#" class="pagina" src="prova_Cap2-005.jpg" alt="pagina del libro" /></div>
      <div><img id="#" class="pagina" src="prova_Cap2-006.jpg" alt="pagina del libro" /></div>
      <div><img id="#" class="pagina" src="prova_Cap2-007.jpg" alt="pagina del libro" /></div>
      <div><img id="#" class="pagina" src="prova_Cap2-008.jpg" alt="pagina del libro" /></div>
      <div><img id="#" class="pagina" src="prova_Cap2-009.jpg" alt="pagina del libro" /></div>
      <div><img id="#" class="pagina" src="prova_Cap2-010.jpg" alt="pagina del libro" /></div>
      <div><img id="#" class="pagina" src="prova_Cap2-011.jpg" alt="pagina del libro" /></div>
      <div><img id="#" class="pagina" src="prova_Cap2-012.jpg" alt="pagina del libro" /></div>
    </div>
  </section>

  <section id="footer">
    <div class="footer">
      <marquee>
        Ciao, qui si pu&ograve; mettere un footer
      </marquee>
    </div>
  </section>
<script type="text/javascript">
$(document).ready(function () {
    $(document).on("scroll", onScroll);

    //smoothscroll
    $('a[href^="#"]').on('click', function (e) {
        e.preventDefault();
        $(document).off("scroll");

        $('a').each(function () {
            $(this).removeClass('attivo');
        })
        $(this).addClass('attivo');

        var target = this.hash,
            menu = target;
        $target = $(target);
        $('html, body').stop().animate({
            'scrollTop': $target.offset().top+2
        }, 500, 'swing', function () {
            window.location.hash = target;
            $(document).on("scroll", onScroll);
        });
    });
});

function onScroll(event){
    var scrollPos = $(document).scrollTop();
    $('#menulaterale a').each(function () {
        var currLink = $(this);
        var refElement = $(currLink.attr("href"));
        if (refElement.position().top <= scrollPos && refElement.position().top + refElement.height() > scrollPos) {
            $('#menulaterale ul li a').removeClass("attivo");
            currLink.addClass("attivo");
        }
        else{
            currLink.removeClass("attivo");
        }
    });
}
</script>
</body>

</html>
